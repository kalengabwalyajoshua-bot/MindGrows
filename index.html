<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MindGrow ðŸŒ±</title>
  <style>
    /* GENERAL STYLES */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #a1ffce, #faffd1);
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    #app {
      width: 95%;
      max-width: 600px;
    }
    .screen {
      display: none;
      background-color: rgba(255, 255, 255, 0.95);
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 15px 25px rgba(0,0,0,0.2);
      text-align: center;
      animation: fadeIn 0.5s ease-in-out;
    }
    .screen.active { display: block; }
    h1, h2 { color: #2e7d32; margin-bottom: 15px; }
    p { color: #555; margin-bottom: 20px; }
    input, select { width: 80%; padding: 12px; margin: 8px 0; border-radius: 12px; border: 1px solid #ccc; font-size: 14px; }
    input:focus, select:focus { border-color: #2e7d32; box-shadow: 0 0 10px rgba(46,125,50,0.5); outline: none; }
    button { padding: 12px 25px; font-size: 16px; background: linear-gradient(135deg, #2e7d32, #66bb6a); color: white; border: none; border-radius: 15px; cursor: pointer; margin: 10px 5px; transition: all 0.3s ease; }
    button:hover { background: linear-gradient(135deg, #1b5e20, #43a047); transform: scale(1.05); }
    .menu-buttons { display: flex; flex-direction: column; gap: 10px; }
    iframe { width: 100%; height: 400px; border: none; margin: 10px 0; }
    #messages { max-height: 200px; overflow-y: auto; text-align: left; border: 1px solid #ccc; padding: 10px; border-radius: 12px; background: #f9f9f9; margin: 10px 0; }
    #messages p { margin: 5px 0; }
    @keyframes fadeIn { from {opacity: 0;} to {opacity: 1;} }
  </style>
</head>
<body>
<div id="app">

  <!-- SCREEN 1: Welcome -->
  <section id="welcome-screen" class="screen active">
    <h1>Welcome to MindGrow ðŸŒ±</h1>
    <p>Your personal academic platform</p>
    <button onclick="goToScreen('signup-screen')">Get Started</button>
  </section>

  <!-- SCREEN 2: Sign Up / Login -->
  <section id="signup-screen" class="screen">
    <h2>Sign Up</h2>
    <input type="text" id="signup-name" placeholder="Full Name">
    <input type="email" id="signup-email" placeholder="Email">
    <input type="text" id="signup-school" placeholder="School">
    <select id="signup-grade">
      <option value="">Select Grade/Class</option>
      <option value="Grade 7">Grade 7</option>
      <option value="Grade 8">Grade 8</option>
      <option value="Grade 9">Grade 9</option>
      <option value="Grade 10">Grade 10</option>
      <option value="Grade 11">Grade 11</option>
      <option value="Grade 12">Grade 12</option>
    </select>
    <select id="signup-role">
      <option value="">Select Role</option>
      <option value="Student">Student</option>
      <option value="Teacher">Teacher</option>
      <option value="HOD">HOD</option>
      <option value="Headteacher">Headteacher</option>
    </select>
    <input type="password" id="signup-password" placeholder="Password">
    <button onclick="completeSignup()">Sign Up</button>
    <button onclick="goToScreen('welcome-screen')">Back</button>
  </section>

  <!-- SCREEN 3: Main Menu -->
  <section id="main-menu" class="screen">
    <h2>Main Menu</h2>
    <div class="menu-buttons">
      <button onclick="goToScreen('clubs-screen')">Clubs</button>
      <button onclick="goToScreen('multiplayer-screen')">Multiplayer / VS Mode</button>
      <button onclick="goToScreen('pdf-screen')">Read Books / PDF</button>
      <button onclick="goToScreen('quizzes-screen')">Quizzes</button>
      <button onclick="goToScreen('streaks-screen')">Streaks</button>
      <button onclick="goToScreen('dashboard-screen')">Dashboard</button>
      <button onclick="goToScreen('messages-screen')">Messages / Chat</button>
      <button onclick="goToScreen('announcements-screen')">Announcements</button>
      <button onclick="goToScreen('ai-suggestions-screen')">AI Suggestions</button>
    </div>
  </section>

  <!-- SCREEN 4: Clubs -->
  <section id="clubs-screen" class="screen">
    <h2>Clubs</h2>
    <p>Join school clubs and collaborate with peers!</p>
    <button onclick="goToScreen('main-menu')">Back</button>
  </section>

  <!-- SCREEN 5: Multiplayer / VS Mode -->
  <section id="multiplayer-screen" class="screen">
    <h2>Multiplayer / VS Mode</h2>
    <p>Challenge your classmates in quizzes or competitions!</p>
    <button onclick="goToScreen('main-menu')">Back</button>
  </section>

  <!-- SCREEN 6: PDF Reader -->
  <section id="pdf-screen" class="screen">
    <h2>PDF Reader / Books</h2>
    <input type="file" id="pdf-upload" accept="application/pdf">
    <iframe id="pdf-preview"></iframe>
    <button onclick="goToScreen('main-menu')">Back</button>
  </section>

  <!-- SCREEN 7: Quizzes -->
  <section id="quizzes-screen" class="screen">
    <h2>Quizzes</h2>
    <button onclick="startQuiz()">Start Quiz</button>
    <div id="quiz-container"></div>
    <button onclick="goToScreen('main-menu')">Back</button>
  </section>

  <!-- SCREEN 8: Streaks -->
  <section id="streaks-screen" class="screen">
    <h2>Streaks</h2>
    <p id="streak-info"></p>
    <button onclick="goToScreen('main-menu')">Back</button>
  </section>

  <!-- SCREEN 9: Dashboard -->
  <section id="dashboard-screen" class="screen">
    <h2>Dashboard</h2>
    <p id="dashboard-info"></p>
    <button onclick="goToScreen('main-menu')">Back</button>
  </section>

  <!-- SCREEN 10: Messages / Chat -->
  <section id="messages-screen" class="screen">
    <h2>Messages / Chat</h2>
    <div id="messages"></div>
    <input type="text" id="message-input" placeholder="Type your message">
    <button onclick="sendMessage()">Send</button>
    <button onclick="goToScreen('main-menu')">Back</button>
  </section>

  <!-- SCREEN 11: Announcements -->
  <section id="announcements-screen" class="screen">
    <h2>Announcements</h2>
    <div id="announcements"></div>
    <input type="text" id="announcement-input" placeholder="Write announcement">
    <button onclick="postAnnouncement()">Post</button>
    <button onclick="goToScreen('main-menu')">Back</button>
  </section>

  <!-- SCREEN 12: AI Suggestions -->
  <section id="ai-suggestions-screen" class="screen">
    <h2>AI Suggestions</h2>
    <p id="ai-tips"></p>
    <button onclick="goToScreen('main-menu')">Back</button>
  </section>

</div>

<script>
  // --- SCREEN NAVIGATION ---
  function goToScreen(id){
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    updateDashboard();
    updateStreaks();
    updateAITips();
    showMessages();
    showAnnouncements();
  }

  // --- USERS ---
  function completeSignup(){
    const name=document.getElementById('signup-name').value.trim();
    const email=document.getElementById('signup-email').value.trim();
    const school=document.getElementById('signup-school').value.trim();
    const grade=document.getElementById('signup-grade').value;
    const role=document.getElementById('signup-role').value;
    const password=document.getElementById('signup-password').value;
    if(!name||!email||!school||!grade||!role||!password){alert('Fill all fields'); return;}
    const user={name,email,school,grade,role,password};
    localStorage.setItem('mindgrowUser',JSON.stringify(user));
    alert(`Welcome ${name}!`);
    goToScreen('main-menu');
  }

  // --- PDF READER ---
  const pdfInput=document.getElementById('pdf-upload');
  const pdfPreview=document.getElementById('pdf-preview');
  if(pdfInput){pdfInput.addEventListener('change',e=>{
    const file=e.target.files[0];
    if(file&&file.type==='application/pdf'){
      const url=URL.createObjectURL(file);
      pdfPreview.src=url;
    }else{alert('Select a valid PDF');pdfPreview.src='';}
  });}

  // --- QUIZZES ---
  function startQuiz(){
    const container=document.getElementById('quiz-container');
    const questions=[
      {q:"2+2?",a:["3","4","5"],correct:1},
      {q:"Capital of Zambia?",a:["Lusaka","Harare","Nairobi"],correct:0},
      {q:"Water formula?",a:["H2O","CO2","O2"],correct:0}
    ];
    let score=0;
    container.innerHTML="";
    questions.forEach((q,i)=>{
      const div=document.createElement('div');
      div.innerHTML=`<p>${q.q}</p>`+q.a.map((ans,j)=>
        `<button onclick="if(${j}===${q.correct}){this.style.background='green';score++;}else{this.style.background='red';}this.disabled=true;">${ans}</button>`).join('');
      container.appendChild(div);
    });
  }

  // --- STREAKS ---
  function updateStreaks(){
    const streakEl=document.getElementById('streak-info');
    let streak=parseInt(localStorage.getItem('mindgrowStreak')||"0");
    streak++;
    localStorage.setItem('mindgrowStreak',streak);
    streakEl.innerText=`Your current study streak: ${streak} days`;
  }

  // --- DASHBOARD ---
  function updateDashboard(){
    const dashboardEl=document.getElementById('dashboard-info');
    const user=JSON.parse(localStorage.getItem('mindgrowUser')||"{}");
    const streak=parseInt(localStorage.getItem('mindgrowStreak')||"0");
    dashboardEl.innerText=`Name: ${user.name||'N/A'}\nSchool: ${user.school||'N/A'}\nGrade: ${user.grade||'N/A'}\nRole: ${user.role||'N/A'}\nCurrent Streak: ${streak} days`;
  }

  // --- MESSAGING ---
  function sendMessage(){
    const input=document.getElementById('message-input');
    const msg=input.value.trim();
    if(!msg) return;
    let msgs=JSON.parse(localStorage.getItem('mindgrowMessages')||"[]");
    const user=JSON.parse(localStorage.getItem('mindgrowUser')||"{}");
    msgs.push({from:user.name,text:msg});
    localStorage.setItem('mindgrowMessages',JSON.stringify(msgs));
    input.value="";
    showMessages();
  }
  function showMessages(){
    const container=document.getElementById('messages');
    const msgs=JSON.parse(localStorage.getItem('mindgrowMessages')||"[]");
    container.innerHTML="";
    msgs.forEach(m=>{
      const p=document.createElement('p');
      p.innerText=`${m.from}: ${m.text}`;
      container.appendChild(p);
    });
    container.scrollTop=container.scrollHeight;
  }

  // --- ANNOUNCEMENTS ---
  function postAnnouncement(){
    const input=document.getElementById('announcement-input');
    const ann=input.value.trim();
    if(!ann) return;
    let anns=JSON.parse(localStorage.getItem('mindgrowAnnouncements')||"[]");
    const user=JSON.parse(localStorage.getItem('mindgrowUser')||"{}");
    anns.push({from:user.name,text:ann});
    localStorage.setItem('mindgrowAnnouncements',JSON.stringify(anns));
    input.value="";
    showAnnouncements();
  }
  function showAnnouncements(){
    const container=document.getElementById('announcements');
    const anns=JSON.parse(localStorage.getItem('mindgrowAnnouncements')||"[]");
    container.innerHTML="";
    anns.forEach(a=>{
      const p=document.createElement('p');
      p.innerText=`${a.from}: ${a.text}`;
      container.appendChild(p);
    });
  }

  // --- AI SUGGESTIONS ---
  function updateAITips(){
    const tips=document.getElementById('ai-tips');
    const user=JSON.parse(localStorage.getItem('mindgrowUser')||"{}");
    const streak=parseInt(localStorage.getItem('mindgrowStreak')||"0");
    tips.innerText=`Hello ${user.name||'User'}! Your current streak is ${streak} days.\n`;
    tips.innerText+=`Keep up the good work! Try to read PDFs and take quizzes daily.\n`;
    tips.innerText+=`AI recommends: Focus on ${user.grade||'your subjects'} today.`;
  }

  // --- INITIALIZE ---
  window.onload=()=>{ goToScreen('welcome-screen'); }

</script>
</body>
</html>
